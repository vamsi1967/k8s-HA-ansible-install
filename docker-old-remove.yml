- name: create a Docker Runtime environment
  hosts: all
  become: yes
  gather_facts: false
  tasks:
     - name: Remove if any existig old docker refernences
       package:
          name: "{{modules}}"
          state: absent
       vars:
          modules:
            - docker 
            - docker-client
            - docker-client-latest
            - docker-common
            - docker-latest
            - docker-latest-logrotate
            - docker-engine
            - docker-selinux
            - docker-engine-selinux
       register: dockerremove
       
     - debug: 
        var: dockerremove.results
        
     - local_action:
        module: copy
        content: "{{ dockerremove }}"
        dest: ~/k8s/playbooks/{{inventory_hostname}}_docker_old_remove
